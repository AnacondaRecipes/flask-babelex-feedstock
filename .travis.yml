# This file was generated automatically from conda-smithy. To update this configuration,
# update the conda-forge.yaml and/or the recipe/meta.yaml.

language: objective-c

env:
  matrix:
    
    - CONDA_PY=27
    - CONDA_PY=34
    - CONDA_PY=35
  global:
    # The BINSTAR_TOKEN secure variable. This is defined canonically in conda-forge.yml.
    - secure: "gA1pzhclka3Bavu4a6T5iaRzYFxTw5baMKE0mozS7MWtYtS4gHWaq4miR3vILJOxc0ycVuf4bXMZOBe0A9D87ExuIcCFyk5f0RBgRfUq38zcFUv8rXCgPGMN3QCYTlE67cpubMZFMUAndQNK5cRaKKCrdkwVOTQ7fXCgkes2b0Gs6/MOwdJvxCI+nWaYuKXXV9FaGBv3V15R13ktts+xVuqTP+IdA1GVVrqLcb8u4BlZvXX2oGe9aVW8F2PYSr7NqkHRe1+TQFlr59zFC7aBYAvCSfrZDEUttQyE5tlckKF5KUKo/y9vpbQnCW9ZsYUUN0AYRaLy5QY6/iYP3LrVkUglZYUOBPE581tR4tEH5ELejOc6T1LEJXFnZDlSYVOhzY9/7GMiZNLVc74YLRP9CfCOoxNcu+YEw+jL+PNp6In3WiOGSM3T+a15vR8ZxyPj1JDLuSHQ52AOC1KeSkX3E+kpeANTLKz7k3eyeA3C6v4XD32fk/hkKUulIxdequzesK7k75DqY7izorrqSmgSkorFnpHHCz/OeW6XzwoNB5RHUBhxJ4dIO4m1GZzCwKK/bIY/OGK22w10bEICwHZF936EcJV6+Nemz426sY0nXIm0fcRvMRY9BbTIPWBsoPTgLmKQHXiY0iBBuRIQp9kAyAewoJW2hu1qpM0WsJ8lnic="


before_install:
    # Remove homebrew.
    - brew remove --force $(brew list)
    - brew cleanup -s
    - rm -rf $(brew --cache)

install:
    - |
      MINICONDA_URL="http://repo.continuum.io/miniconda"
      MINICONDA_FILE="Miniconda3-latest-MacOSX-x86_64.sh"
      curl -O "${MINICONDA_URL}/${MINICONDA_FILE}"
      bash $MINICONDA_FILE -b

      export PATH=/Users/travis/miniconda3/bin:$PATH

      conda config --set show_channel_urls true
      conda update --yes conda
      conda install --yes conda-build=1.20.0 jinja2 anaconda-client
      conda config --add channels conda-forge
      

script:
  - conda build ./recipe

after_success:

  - ./ci_support/upload_or_check_non_existence.py ./recipe conda-forge --channel=main
